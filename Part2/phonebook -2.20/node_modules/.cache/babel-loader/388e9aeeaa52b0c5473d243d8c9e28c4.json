{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\lena.nyman\\\\FullStack_2022-original\\\\Part2\\\\phonebook\\\\src\\\\components\\\\Persons.js\";\n\nimport React from 'react';\nimport personService from '../services/persons';\n\nvar Persons = function Persons(_ref) {\n  var newFilter = _ref.newFilter,\n      persons = _ref.persons,\n      setPersons = _ref.setPersons,\n      setMessage = _ref.setMessage,\n      setStyle = _ref.setStyle;\n\n  var handleClick = function handleClick(id) {\n    var thisPerson = persons.find(function (p) {\n      return p.id === id;\n    });\n\n    if (window.confirm(\"Delete \".concat(thisPerson.name, \" ?\"))) {\n      personService.deletePerson(id).then(function () {\n        setMessage(\"Deleted \".concat(thisPerson.name));\n        setStyle(\"red\");\n        return setPersons(persons.filter(function (person) {\n          return person.id !== id;\n        }));\n      });\n    }\n  };\n\n  if (newFilter === '') {\n    return persons.map(function (person) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: person.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 9\n        }\n      }, person.name, \" \", person.number, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return handleClick(person.id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }\n      }, \"delete\"));\n    });\n  } else {\n    return persons.filter(function (person) {\n      return person.name.toLowerCase().includes(newFilter.toLowerCase());\n    }).map(function (person, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: person.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }\n      }, person.name, \" \", person.number, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return handleClick(index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }\n      }, \"delete\"));\n    });\n  }\n};\n\nexport default Persons;","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/Persons.js"],"names":["React","personService","Persons","newFilter","persons","setPersons","setMessage","setStyle","handleClick","id","thisPerson","find","p","window","confirm","name","deletePerson","then","filter","person","map","number","toLowerCase","includes","index"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA6D;AAAA,MAA3DC,SAA2D,QAA3DA,SAA2D;AAAA,MAAhDC,OAAgD,QAAhDA,OAAgD;AAAA,MAAvCC,UAAuC,QAAvCA,UAAuC;AAAA,MAA3BC,UAA2B,QAA3BA,UAA2B;AAAA,MAAdC,QAAc,QAAdA,QAAc;;AAE7E,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,EAAD,EAAQ;AAE1B,QAAMC,UAAU,GAAGN,OAAO,CAACO,IAAR,CAAa,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACH,EAAF,KAASA,EAAb;AAAA,KAAd,CAAnB;;AACE,QAAII,MAAM,CAACC,OAAP,kBAAyBJ,UAAU,CAACK,IAApC,QAAJ,EAAmD;AACjDd,MAAAA,aAAa,CACVe,YADH,CACgBP,EADhB,EAEGQ,IAFH,CAEQ,YAAM;AACVX,QAAAA,UAAU,mBAAaI,UAAU,CAACK,IAAxB,EAAV;AACAR,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,eAAOF,UAAU,CAACD,OAAO,CAACc,MAAR,CAAe,UAAAC,MAAM;AAAA,iBAAIA,MAAM,CAACV,EAAP,KAAcA,EAAlB;AAAA,SAArB,CAAD,CAAjB;AACD,OANH;AAOD;AACF,GAZH;;AAcE,MAAIN,SAAS,KAAG,EAAhB,EAAoB;AAClB,WAAOC,OAAO,CAACgB,GAAR,CAAY,UAAAD,MAAM,EAAI;AAC3B,0BACE;AAAK,QAAA,GAAG,EAAEA,MAAM,CAACV,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGU,MAAM,CAACJ,IADV,OACiBI,MAAM,CAACE,MADxB,eAEE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAKb,WAAW,CAACW,MAAM,CAACV,EAAR,CAAhB;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF;AAMD,KAPM,CAAP;AAQD,GATD,MAUK;AACH,WAAOL,OAAO,CACXc,MADI,CACG,UAAAC,MAAM;AAAA,aAAEA,MAAM,CAACJ,IAAP,CAAYO,WAAZ,GAA0BC,QAA1B,CAAmCpB,SAAS,CAACmB,WAAV,EAAnC,CAAF;AAAA,KADT,EAEJF,GAFI,CAEA,UAACD,MAAD,EAASK,KAAT,EAAmB;AACtB,0BACI;AAAK,QAAA,GAAG,EAAEL,MAAM,CAACV,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGU,MAAM,CAACJ,IADV,OACiBI,MAAM,CAACE,MADxB,eAEE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAKb,WAAW,CAACgB,KAAD,CAAhB;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADJ;AAMD,KATI,CAAP;AAUD;AACF,CAtCD;;AAuCA,eAAetB,OAAf","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({newFilter, persons, setPersons, setMessage , setStyle}) => {\r\n  \r\nconst handleClick = (id) => {\r\n\r\n  const thisPerson = persons.find(p => p.id === id )\r\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          setMessage (`Deleted ${thisPerson.name}`)\r\n          setStyle(\"red\")          \r\n          return setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    } \r\n  }\r\n\r\n  if (newFilter==='') {\r\n    return persons.map(person => {\r\n      return (\r\n        <div key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={()=> handleClick(person.id)}>delete</button>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n  else {\r\n    return persons\r\n      .filter(person=>person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n      .map((person, index) => {\r\n        return (\r\n            <div key={person.id}>\r\n              {person.name} {person.number}\r\n              <button onClick={()=> handleClick(index)}>delete</button>\r\n            </div>\r\n        )\r\n      })\r\n  }\r\n}\r\nexport default Persons"]},"metadata":{},"sourceType":"module"}