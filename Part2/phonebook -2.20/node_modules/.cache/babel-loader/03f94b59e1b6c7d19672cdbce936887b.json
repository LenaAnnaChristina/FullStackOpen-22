{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lena.nyman\\\\FullStack_2022-original\\\\Part2\\\\phonebook\\\\src\\\\components\\\\Persons.js\";\nimport React from 'react';\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Persons = _ref => {\n  let {\n    newFilter,\n    persons,\n    setPersons,\n    setMessage,\n    setStyle\n  } = _ref;\n\n  const handleClick = id => {\n    const thisPerson = persons.find(p => p.id === id);\n\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\n      personService.deletePerson(id).then(() => {\n        setMessage(`Deleted ${thisPerson.name}`);\n        setStyle(\"red\");\n        return setPersons(persons.filter(person => person.id !== id));\n      });\n    }\n  };\n\n  if (newFilter === '') {\n    return persons.map(person => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [person.name, \" \", person.number, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleClick(person.id),\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this)]\n      }, person.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this);\n    });\n  } else {\n    return persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [person.name, \" \", person.number, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleClick(index),\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this)]\n      }, person.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this);\n    });\n  }\n};\n\n_c = Persons;\nexport default Persons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Persons\");","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/Persons.js"],"names":["React","personService","Persons","newFilter","persons","setPersons","setMessage","setStyle","handleClick","id","thisPerson","find","p","window","confirm","name","deletePerson","then","filter","person","map","number","toLowerCase","includes","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;;;AAEA,MAAMC,OAAO,GAAG,QAA6D;AAAA,MAA5D;AAACC,IAAAA,SAAD;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,UAArB;AAAiCC,IAAAA,UAAjC;AAA8CC,IAAAA;AAA9C,GAA4D;;AAE7E,QAAMC,WAAW,GAAIC,EAAD,IAAQ;AAC1B,UAAMC,UAAU,GAAGN,OAAO,CAACO,IAAR,CAAaC,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASA,EAA3B,CAAnB;;AACE,QAAII,MAAM,CAACC,OAAP,CAAgB,UAASJ,UAAU,CAACK,IAAK,IAAzC,CAAJ,EAAmD;AACjDd,MAAAA,aAAa,CACVe,YADH,CACgBP,EADhB,EAEGQ,IAFH,CAEQ,MAAM;AACVX,QAAAA,UAAU,CAAG,WAAUI,UAAU,CAACK,IAAK,EAA7B,CAAV;AACAR,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,eAAOF,UAAU,CAACD,OAAO,CAACc,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACV,EAAP,KAAcA,EAAvC,CAAD,CAAjB;AACD,OANH;AAOD;AACF,GAXH;;AAaE,MAAIN,SAAS,KAAG,EAAhB,EAAoB;AAClB,WAAOC,OAAO,CAACgB,GAAR,CAAYD,MAAM,IAAI;AAC3B,0BACE;AAAA,mBACGA,MAAM,CAACJ,IADV,OACiBI,MAAM,CAACE,MADxB,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAKb,WAAW,CAACW,MAAM,CAACV,EAAR,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,SAAUU,MAAM,CAACV,EAAjB;AAAA;AAAA;AAAA;AAAA,cADF;AAMD,KAPM,CAAP;AAQD,GATD,MAUK;AACH,WAAOL,OAAO,CACXc,MADI,CACGC,MAAM,IAAEA,MAAM,CAACJ,IAAP,CAAYO,WAAZ,GAA0BC,QAA1B,CAAmCpB,SAAS,CAACmB,WAAV,EAAnC,CADX,EAEJF,GAFI,CAEA,CAACD,MAAD,EAASK,KAAT,KAAmB;AACtB,0BACA;AAAA,mBACOL,MAAM,CAACJ,IADd,OACqBI,MAAM,CAACE,MAD5B,eAEM;AAAQ,UAAA,OAAO,EAAE,MAAKb,WAAW,CAACgB,KAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFN;AAAA,SAAUL,MAAM,CAACV,EAAjB;AAAA;AAAA;AAAA;AAAA,cADA;AAMD,KATI,CAAP;AAUD;AACF,CArCD;;KAAMP,O;AAsCN,eAAeA,OAAf","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({newFilter, persons, setPersons, setMessage , setStyle}) => {\r\n  \r\nconst handleClick = (id) => {\r\n  const thisPerson = persons.find(p => p.id === id )\r\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          setMessage (`Deleted ${thisPerson.name}`)\r\n          setStyle(\"red\")          \r\n          return setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    } \r\n  }\r\n\r\n  if (newFilter==='') {\r\n    return persons.map(person => {\r\n      return (\r\n        <div key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={()=> handleClick(person.id)}>delete</button>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n  else {\r\n    return persons\r\n      .filter(person=>person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n      .map((person, index) => {\r\n        return (\r\n        <div key={person.id}>\r\n              {person.name} {person.number}\r\n              <button onClick={()=> handleClick(index)}>delete</button>\r\n            </div>\r\n        )\r\n      })\r\n  }\r\n}\r\nexport default Persons"]},"metadata":{},"sourceType":"module"}