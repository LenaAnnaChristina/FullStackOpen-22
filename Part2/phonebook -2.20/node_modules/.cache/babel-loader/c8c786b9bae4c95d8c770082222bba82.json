{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lena.nyman\\\\FullStack_2022-original\\\\Part2\\\\phonebook\\\\src\\\\components\\\\PersonForm.js\";\nimport React from 'react';\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PersonForm = _ref => //setStyle\n{\n  let {\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber,\n    persons,\n    setPersons,\n    setMessage\n  } = _ref;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (persons.find(element => element.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const thisPerson = persons.find(p => p.name === newName);\n        const changedPerson = {\n          thisPerson,\n          number: newNumber\n        };\n        personService.update(thisPerson.id, changedPerson).then(returnedPerson => {\n          setMessage(`Updated ${newName}`); // setStyle('blue')\n\n          setPersons(persons.map(p => p.id !== thisPerson.id ? p : changedPerson));\n        }).catch(error => {\n          setMessage(`Information of ${newName} has been removed from server`); // setStyle('red')\n        });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(personObject).then(returnedPerson => {\n        setMessage(`Added ${newName}`); // setStyle('green')\n\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newName,\n        onChange: e => setNewName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newNumber,\n        onChange: e => setNewNumber(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: handleSubmit,\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }, this);\n};\n\n_c = PersonForm;\nexport default PersonForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonForm\");","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/PersonForm.js"],"names":["React","personService","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setMessage","handleSubmit","event","preventDefault","find","element","name","window","confirm","thisPerson","p","changedPerson","number","update","id","then","returnedPerson","map","catch","error","personObject","create","concat","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\n\r\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, setMessage, }) => //setStyle\r\n{\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault()\r\n\r\n      if (persons.find(element => element.name === newName )) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const thisPerson = persons.find(p => p.name === newName)\r\n        const changedPerson = {thisPerson, number: newNumber}\r\n\r\n        personService\r\n          .update(thisPerson.id, changedPerson)\r\n          .then( returnedPerson => {\r\n            setMessage(`Updated ${newName}`)\r\n           // setStyle('blue')\r\n            \r\n            setPersons(persons.map(p => p.id !== thisPerson.id ? p : changedPerson))\r\n          })\r\n          .catch(error => {\r\n            setMessage(`Information of ${newName} has been removed from server`)\r\n           // setStyle('red')\r\n            \r\n          })\r\n      }\r\n    }\r\n      else {\r\n        const personObject = {name: newName, number: newNumber}\r\n        personService\r\n          .create(personObject)\r\n          .then(returnedPerson => {\r\n            setMessage(`Added ${newName}`)\r\n            // setStyle('green')\r\n           \r\n            setPersons(persons.concat(returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          }) \r\n      }\r\n  }\r\n  return (\r\n      <form>\r\n          <div>\r\n          name: <input \r\n          type=\"text\" \r\n          value={newName} \r\n          onChange={(e)=>setNewName(e.target.value)}\r\n              />\r\n          </div>\r\n          <div>\r\n          number: <input\r\n              type=\"text\"\r\n              value={newNumber}\r\n              onChange={(e)=>setNewNumber(e.target.value)}\r\n              />\r\n          </div>\r\n          <div>\r\n              <button type=\"submit\" onClick={handleSubmit}>add</button>\r\n          </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm"]},"metadata":{},"sourceType":"module"}