{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lena.nyman\\\\FullStack_2022-original\\\\Part2\\\\phonebook\\\\src\\\\components\\\\Persons.js\";\nimport React from 'react';\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Persons = _ref => {\n  let {\n    newFilter,\n    persons,\n    setPersons,\n    setConfirmMessage,\n    setStyle\n  } = _ref;\n\n  const handleClick = id => {\n    const thisPerson = persons.find(p => p.id === id);\n\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\n      personService.deletePerson(id).then(() => {\n        setConfirmMessage(`Deleted ${thisPerson.name}`);\n        setStyle(\"red\");\n        setTimeout(() => {\n          setConfirmMessage(null);\n        }, 5000);\n        return setPersons(persons.filter(person => person.id !== id));\n      }).catch(error => console.log(error));\n    } else {\n      console.log('You cancelled to delete.');\n    }\n  };\n\n  if (newFilter === '') {\n    return persons.map(person => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [person.name, \" \", person.number, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleClick(person.id),\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, person.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this);\n    });\n  } else {\n    return persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person, index) => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [person.name, \" \", person.number, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleClick(index),\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this)]\n      }, person.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this);\n    });\n  }\n};\n\n_c = Persons;\nexport default Persons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Persons\");","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/Persons.js"],"names":["React","personService","Persons","newFilter","persons","setPersons","setConfirmMessage","setStyle","handleClick","id","thisPerson","find","p","window","confirm","name","deletePerson","then","setTimeout","filter","person","catch","error","console","log","map","number","toLowerCase","includes","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;;;AAEA,MAAMC,OAAO,GAAG,QAAmE;AAAA,MAAlE;AAACC,IAAAA,SAAD;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,UAArB;AAAiCC,IAAAA,iBAAjC;AAAoDC,IAAAA;AAApD,GAAkE;;AAGjF,QAAMC,WAAW,GAAIC,EAAD,IAAQ;AAC1B,UAAMC,UAAU,GAAGN,OAAO,CAACO,IAAR,CAAaC,CAAC,IAAIA,CAAC,CAACH,EAAF,KAASA,EAA3B,CAAnB;;AACA,QAAII,MAAM,CAACC,OAAP,CAAgB,UAASJ,UAAU,CAACK,IAAK,IAAzC,CAAJ,EAAmD;AACjDd,MAAAA,aAAa,CACVe,YADH,CACgBP,EADhB,EAEGQ,IAFH,CAEQ,MAAM;AACVX,QAAAA,iBAAiB,CAAE,WAAUI,UAAU,CAACK,IAAK,EAA5B,CAAjB;AACAR,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAW,QAAAA,UAAU,CAAC,MAAM;AACfZ,UAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,SAFS,EAEP,IAFO,CAAV;AAIA,eAAOD,UAAU,CAACD,OAAO,CAACe,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACX,EAAP,KAAcA,EAAvC,CAAD,CAAjB;AACD,OAVH,EAWGY,KAXH,CAWSC,KAAK,IAAKC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAXnB;AAYC,KAbH,MAaS;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAAwC;AACnD,GAhBD;;AAmBA,MAAIrB,SAAS,KAAG,EAAhB,EAAoB;AAClB,WAAOC,OAAO,CAACqB,GAAR,CAAYL,MAAM,IAAI;AAC3B,0BACE;AAAA,mBACGA,MAAM,CAACL,IADV,OACiBK,MAAM,CAACM,MADxB,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAKlB,WAAW,CAACY,MAAM,CAACX,EAAR,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,SAASW,MAAM,CAACX,EAAhB;AAAA;AAAA;AAAA;AAAA,cADF;AAKE,KANG,CAAP;AAOD,GARD,MASK;AACH,WAAOL,OAAO,CACXe,MADI,CACGC,MAAM,IAAEA,MAAM,CAACL,IAAP,CAAYY,WAAZ,GAA0BC,QAA1B,CAAmCzB,SAAS,CAACwB,WAAV,EAAnC,CADX,EAEJF,GAFI,CAEA,CAACL,MAAD,EAASS,KAAT,KAAmB;AACtB,0BACI;AAAA,mBACGT,MAAM,CAACL,IADV,OACiBK,MAAM,CAACM,MADxB,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAKlB,WAAW,CAACqB,KAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA,SAAST,MAAM,CAACX,EAAhB;AAAA;AAAA;AAAA;AAAA,cADJ;AAMD,KATI,CAAP;AAUD;AACF,CA3CD;;KAAMP,O;AA4CN,eAAeA,OAAf","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({newFilter, persons, setPersons, setConfirmMessage, setStyle}) => {\r\n  \r\n\r\n  const handleClick = (id) => {\r\n    const thisPerson = persons.find(p => p.id === id )\r\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          setConfirmMessage(`Deleted ${thisPerson.name}`)\r\n          setStyle(\"red\")\r\n          setTimeout(() => {\r\n            setConfirmMessage(null)\r\n          }, 5000)\r\n\r\n          return setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n        .catch(error =>  console.log(error))\r\n      } else {console.log('You cancelled to delete.')}\r\n  }\r\n\r\n\r\n  if (newFilter==='') {\r\n    return persons.map(person => {\r\n      return (\r\n        <li key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={()=> handleClick(person.id)}>delete</button>\r\n        </li>\r\n      )})\r\n  }\r\n  else {\r\n    return persons\r\n      .filter(person=>person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n      .map((person, index) => {\r\n        return (\r\n            <li key={person.id}>\r\n              {person.name} {person.number}\r\n              <button onClick={()=> handleClick(index)}>delete</button>\r\n            </li>\r\n        )\r\n      })\r\n  }\r\n}\r\nexport default Persons"]},"metadata":{},"sourceType":"module"}