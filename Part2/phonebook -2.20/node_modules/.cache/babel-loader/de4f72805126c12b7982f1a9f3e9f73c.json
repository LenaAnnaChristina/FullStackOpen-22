{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lena.nyman\\\\FullStack_2022-original\\\\Part2\\\\phonebook\\\\src\\\\components\\\\PersonForm.js\";\nimport React from 'react';\nimport personService from '../services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PersonForm = _ref => {\n  let {\n    newName,\n    setNewName,\n    newNumber,\n    setNewNumber,\n    persons,\n    setPersons,\n    setMessage,\n    setStyle\n  } = _ref;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (persons.find(element => element.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with anew one?`)) {\n        const thisPerson = persons.find(p => p.name === newName);\n        const changedPerson = { ...thisPerson,\n          number: newNumber\n        };\n        personService.update(thisPerson.id, changedPerson).then(returnedPerson => {\n          setMessage(`Updated ${newName}`);\n          setStyle('blue');\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n          setPersons(persons.map(p => p.id !== thisPerson.id ? p : changedPerson));\n        }).catch(error => {\n          setMessage(`Information of ${newName} has been removed from server`);\n          setStyle('red');\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(personObject).then(returnedPerson => {\n        setMessage(`Added ${newName}`);\n        setStyle('green');\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newName,\n        onChange: e => setNewName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newNumber,\n        onChange: e => setNewNumber(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: handleSubmit,\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n};\n\n_c = PersonForm;\nexport default PersonForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonForm\");","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/PersonForm.js"],"names":["React","personService","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setMessage","setStyle","handleSubmit","event","preventDefault","find","element","name","window","confirm","thisPerson","p","changedPerson","number","update","id","then","returnedPerson","setTimeout","map","catch","error","personObject","create","concat","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\n\r\nconst PersonForm = ({newName, setNewName, newNumber, setNewNumber, persons, setPersons, setMessage, setStyle}) => {\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault()\r\n\r\n      if (persons.find(element => element.name === newName )) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with anew one?`)) {\r\n        const thisPerson = persons.find(p => p.name === newName)\r\n        const changedPerson = {...thisPerson, number: newNumber}\r\n        personService\r\n          .update(thisPerson.id, changedPerson)\r\n          .then( returnedPerson => {\r\n            setMessage(`Updated ${newName}`)\r\n            setStyle('blue')\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.map(p => p.id !== thisPerson.id ? p : changedPerson))\r\n          })\r\n          .catch(error => {\r\n            setMessage(`Information of ${newName} has been removed from server`)\r\n            setStyle('red')\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n    }\r\n      else {\r\n        const personObject = {\r\n          name: newName,\r\n          number: newNumber,\r\n        }\r\n        personService\r\n          .create(personObject)\r\n          .then(returnedPerson => {\r\n            setMessage(`Added ${newName}`)\r\n            setStyle('green')\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.concat(returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          }) \r\n      }\r\n  }\r\n  return (\r\n      <form>\r\n          <div>\r\n          name: <input \r\n          type=\"text\" \r\n          value={newName} \r\n          onChange={(e)=>setNewName(e.target.value)}\r\n              />\r\n          </div>\r\n          <div>\r\n          number: <input\r\n              type=\"text\"\r\n              value={newNumber}\r\n              onChange={(e)=>setNewNumber(e.target.value)}\r\n              />\r\n          </div>\r\n          <div>\r\n              <button type=\"submit\" onClick={handleSubmit}>add</button>\r\n          </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm"]},"metadata":{},"sourceType":"module"}