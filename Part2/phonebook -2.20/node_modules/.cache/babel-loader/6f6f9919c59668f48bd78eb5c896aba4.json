{"ast":null,"code":"import React from'react';import personService from'../services/persons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Persons=function Persons(_ref){var newFilter=_ref.newFilter,persons=_ref.persons,setPersons=_ref.setPersons,setConfirmMessage=_ref.setConfirmMessage,setStyle=_ref.setStyle;var handleClick=function handleClick(id){var thisPerson=persons.find(function(p){return p.id===id;});if(window.confirm(\"Delete \".concat(thisPerson.name,\" ?\"))){personService.remove(id).then(function(){setConfirmMessage(\"Deleted \".concat(thisPerson.name));setStyle(\"red\");setTimeout(function(){setConfirmMessage(null);},5000);return setPersons(persons.filter(function(person){return person.id!==id;}));}).catch(function(error){return console.log(error);});}else{console.log('You cancelled to delete.');}};if(newFilter===''){return persons.map(function(person){return/*#__PURE__*/_jsxs(\"li\",{children:[person.name,\" \",person.number,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleClick(person.id);},children:\"delete\"})]},person.id);});}else{return persons.filter(function(person){return person.name.toLowerCase().includes(newFilter.toLowerCase());}).map(function(person,index){return/*#__PURE__*/_jsxs(\"li\",{children:[person.name,\" \",person.number,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleClick(index);},children:\"delete\"})]},person.id);});}};export default Persons;","map":{"version":3,"sources":["C:/Users/lena.nyman/FullStack_2022-original/Part2/phonebook/src/components/Persons.js"],"names":["React","personService","Persons","newFilter","persons","setPersons","setConfirmMessage","setStyle","handleClick","id","thisPerson","find","p","window","confirm","name","remove","then","setTimeout","filter","person","catch","error","console","log","map","number","toLowerCase","includes","index"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAmE,IAAjEC,CAAAA,SAAiE,MAAjEA,SAAiE,CAAtDC,OAAsD,MAAtDA,OAAsD,CAA7CC,UAA6C,MAA7CA,UAA6C,CAAjCC,iBAAiC,MAAjCA,iBAAiC,CAAdC,QAAc,MAAdA,QAAc,CAGjF,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CAC1B,GAAMC,CAAAA,UAAU,CAAGN,OAAO,CAACO,IAAR,CAAa,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACH,EAAF,GAASA,EAAb,EAAd,CAAnB,CACA,GAAII,MAAM,CAACC,OAAP,kBAAyBJ,UAAU,CAACK,IAApC,OAAJ,CAAmD,CACjDd,aAAa,CACVe,MADH,CACUP,EADV,EAEGQ,IAFH,CAEQ,UAAM,CACVX,iBAAiB,mBAAYI,UAAU,CAACK,IAAvB,EAAjB,CACAR,QAAQ,CAAC,KAAD,CAAR,CACAW,UAAU,CAAC,UAAM,CACfZ,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAFS,CAEP,IAFO,CAAV,CAIA,MAAOD,CAAAA,UAAU,CAACD,OAAO,CAACe,MAAR,CAAe,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACX,EAAP,GAAcA,EAAlB,EAArB,CAAD,CAAjB,CACD,CAVH,EAWGY,KAXH,CAWS,SAAAC,KAAK,QAAKC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAL,EAXd,EAYC,CAbH,IAaS,CAACC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC,CACnD,CAhBD,CAmBA,GAAIrB,SAAS,GAAG,EAAhB,CAAoB,CAClB,MAAOC,CAAAA,OAAO,CAACqB,GAAR,CAAY,SAAAL,MAAM,CAAI,CAC3B,mBACE,sBACGA,MAAM,CAACL,IADV,KACiBK,MAAM,CAACM,MADxB,cAEE,eAAQ,OAAO,CAAE,yBAAKlB,CAAAA,WAAW,CAACY,MAAM,CAACX,EAAR,CAAhB,EAAjB,oBAFF,GAASW,MAAM,CAACX,EAAhB,CADF,CAKE,CANG,CAAP,CAOD,CARD,IASK,CACH,MAAOL,CAAAA,OAAO,CACXe,MADI,CACG,SAAAC,MAAM,QAAEA,CAAAA,MAAM,CAACL,IAAP,CAAYY,WAAZ,GAA0BC,QAA1B,CAAmCzB,SAAS,CAACwB,WAAV,EAAnC,CAAF,EADT,EAEJF,GAFI,CAEA,SAACL,MAAD,CAASS,KAAT,CAAmB,CACtB,mBACI,sBACGT,MAAM,CAACL,IADV,KACiBK,MAAM,CAACM,MADxB,cAEE,eAAQ,OAAO,CAAE,yBAAKlB,CAAAA,WAAW,CAACqB,KAAD,CAAhB,EAAjB,oBAFF,GAAST,MAAM,CAACX,EAAhB,CADJ,CAMD,CATI,CAAP,CAUD,CACF,CA3CD,CA4CA,cAAeP,CAAAA,OAAf","sourcesContent":["import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({newFilter, persons, setPersons, setConfirmMessage, setStyle}) => {\r\n  \r\n\r\n  const handleClick = (id) => {\r\n    const thisPerson = persons.find(p => p.id === id )\r\n    if (window.confirm(`Delete ${thisPerson.name} ?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setConfirmMessage(`Deleted ${thisPerson.name}`)\r\n          setStyle(\"red\")\r\n          setTimeout(() => {\r\n            setConfirmMessage(null)\r\n          }, 5000)\r\n\r\n          return setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n        .catch(error =>  console.log(error))\r\n      } else {console.log('You cancelled to delete.')}\r\n  }\r\n\r\n\r\n  if (newFilter==='') {\r\n    return persons.map(person => {\r\n      return (\r\n        <li key={person.id}>\r\n          {person.name} {person.number}\r\n          <button onClick={()=> handleClick(person.id)}>delete</button>\r\n        </li>\r\n      )})\r\n  }\r\n  else {\r\n    return persons\r\n      .filter(person=>person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n      .map((person, index) => {\r\n        return (\r\n            <li key={person.id}>\r\n              {person.name} {person.number}\r\n              <button onClick={()=> handleClick(index)}>delete</button>\r\n            </li>\r\n        )\r\n      })\r\n  }\r\n}\r\nexport default Persons"]},"metadata":{},"sourceType":"module"}